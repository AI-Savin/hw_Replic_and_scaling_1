# Домашнее задание к занятию "`Репликация и масштабирование. Часть 1`" - `Савин Алексей`

## Задание 1

На лекции рассматривались режимы репликации master-slave, master-master, опишите их различия.

### Решение 1

Основное отличите между master-slave и master-master заключается в работе с данными. master-slave Предполагает работу с мастером только для запиис или изменения данных (INSERT/UPDATE/DELETE), чтение же данных производится со slave. В случае схемы master-master любой из серверов может использоваться как для чтения так и для записи. Преимуществом master-slave является возможность использования множества серверов slave (не рекомендуется использовать более 20) для работы с одним сервером master, что снижает общую нагрузку.
Система master-slave считается наиболее безопасной в плане сохранности данных. В случае выхода из строя master, нужно переключить все операции (и чтения и записи) на slave. Таким образом он станет новым master. Данные при этом не теряются. В случае master-master выход из строя одного из серверов практически всегда приводит к потере каких-то данных. Последующее восстановление также сильно затрудняется необходимостью ручного анализа данных, которые успели либо не успели скопироваться.
 
---

## Задание 2
Выполните конфигурацию master-slave репликации, примером можно пользоваться из лекции.

Приложите скриншоты конфигурации, выполнения работы: состояния и режимы работы серверов.

### Решение 2
В докере запустил сервер мастера. Создал пользователя и настроил мастера. Чтение бинарного файла mysql-bin.000007 slave должен начать со строки 658.  

![Task_2_1](https://github.com/AI-Savin/hw_Replic_and_scaling_1/blob/main/img/Task_2_1.png)  

Запустил сервер слэйва, указал настройки для подключения с мастеру. Результат работы без ошибок представлен на скриншоте ниже:  

![Task_2_2](https://github.com/AI-Savin/hw_Replic_and_scaling_1/blob/main/img/Task_2_2.png)  

Создал на мастере базу my_base_test.  

![Task_2_3](https://github.com/AI-Savin/hw_Replic_and_scaling_1/blob/main/img/Task_2_3.png)  

slave прочитал данные из файла mysql-bin.000007 и воспроизвёл изменение у себя.  

![Task_2_4](https://github.com/AI-Savin/hw_Replic_and_scaling_1/blob/main/img/Task_2_4.png)  

При этом изменился номер строчки в бинарном файле.  

![Task_2_5](https://github.com/AI-Savin/hw_Replic_and_scaling_1/blob/main/img/Task_2_5.png)  

![Task_2_6](https://github.com/AI-Savin/hw_Replic_and_scaling_1/blob/main/img/Task_2_6.png)   

---
